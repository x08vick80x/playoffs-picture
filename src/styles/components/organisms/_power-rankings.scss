@use '../../variables' as *;
@use '../../mixins' as *;

.power-rankings {
    max-width: 800px;
    margin: 3rem auto;
    padding: 0 1rem;

    &__list {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    &__empty {
        text-align: center;
        color: #666;
        padding: 2rem;
    }
}

.ranking-item {
    background: $bg-card;
    border: 1px solid #333;
    border-radius: 8px;
    overflow: hidden;
    transition: all 0.2s;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;

    &:hover {
        border-color: #666;
        background: rgba(255, 255, 255, 0.05);
    }

    &--expanded {
        border-color: $nfl-blue;
    }

    &__header {
        display: grid;
        grid-template-columns: 80px 1fr 40px;
        align-items: center;
        padding: 1rem;
    }

    &__badge {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 2px;
    }

    &__number {
        font-size: 2rem;
        font-weight: 800;
        color: $text-secondary;
    }

    &__trend {
        font-size: 0.8rem;
        font-weight: bold;

        &--positive {
            color: $nfl-green;

            &::before {
                content: "▲ ";
            }
        }

        &--negative {
            color: $nfl-red;

            &::before {
                content: "▼ ";
            }
        }

        &--neutral {
            color: $text-secondary;
        }
    }

    &__info {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    &__name {
        font-size: 1.8rem;
        font-weight: 700;
    }

    &__toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        color: $text-secondary;
    }

    &__chevron {
        transition: transform 0.3s;

        // When parent is expanded
        .ranking-item--expanded & {
            transform: rotate(180deg);
        }
    }

    &__body-wrapper {
        display: grid;
        grid-template-rows: 0fr;
        transition: grid-template-rows 0.3s $ease-out;
        border-top: 1px solid transparent; // Hidden initially

        .ranking-item--expanded & {
            grid-template-rows: 1fr;
            border-top: 1px solid #333; // Show border when expanded
        }
    }

    &__content {
        overflow: hidden;
        background: rgba(0, 0, 0, 0.2);

        // Inner padding wrapper
        p,
        .no-content {
            padding: 1rem 1.5rem;
            margin: 0;
            font-size: 1.6rem;
            line-height: 1.6;
            color: #ddd;
            font-family: $font-body;
            font-weight: 400;
        }

        .no-content {
            color: #666;
            font-style: italic;
        }
    }
}